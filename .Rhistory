setwd("C:/Users/user/ExData_Plotting1")
dev.off();
data <- read.table("./household_power_consumption.txt", sep = ";", header = TRUE);
data <- read.table("./household_power_consumption.txt", sep = ";", header = TRUE);
DatTim <- paste(data$Date, data$Time);
DT <- strptime(DatTim, "%d/%m/%Y %H:%M:%S");
data <- cbind(DT, data);
for (i in 4:9) data[, i] <- as.numeric(as.character(data[, i]));
subdata <- subset(data, DT >= "2007-02-01 00:00:00" & DT <= "2007-02-02 23:59:59");
png("plot1.png")
hist(subdata$Global_active_power, col = "red", main = "Global Active Power", ylim = c(0, 1200), xlab = "Global Active Power (kilowatts)");
dev.off();
data <- read.table("./household_power_consumption.txt", sep = ";", header = TRUE);
DatTim <- paste(data$Date, data$Time);
DT <- strptime(DatTim, "%d/%m/%Y %H:%M:%S");
data <- cbind(DT, data);
for (i in 4:9) data[, i] <- as.numeric(as.character(data[, i]));
subdata <- subset(data, DT >= "2007-02-01 00:00:00" & DT <= "2007-02-02 23:59:59");
png("plot2.png")
plot(subdata$DT, subdata$Global_active_power, type = "n", xlab = "", ylab = "Global Active Power (kilowatts)");
lines(subdata$DT, subdata$Global_active_power);
dev.off();
data <- read.table("./household_power_consumption.txt", sep = ";", header = TRUE);
DatTim <- paste(data$Date, data$Time);
DT <- strptime(DatTim, "%d/%m/%Y %H:%M:%S");
data <- cbind(DT, data);
for (i in 4:9) data[, i] <- as.numeric(as.character(data[, i]));
subdata <- subset(data, DT >= "2007-02-01 00:00:00" & DT <= "2007-02-02 23:59:59");
png("plot3.png")
plot(subdata$DT, subdata$Sub_metering_1, type = "n", xlab = "", ylab = "Energy sub metering", ylim = c(0, 40));
lines(subdata$DT, subdata$Sub_metering_1);
lines(subdata$DT, subdata$Sub_metering_2, col = "red");
lines(subdata$DT, subdata$Sub_metering_3, col = "blue");
legend("topright", c("Sub_metering_1", "Sub_metering_2", "Sub_metering_3"), lty = c(1, 1, 1), col = c("black", "red", "blue"));
dev.off();
data <- read.table("./household_power_consumption.txt", sep = ";", header = TRUE);
DatTim <- paste(data$Date, data$Time);
DT <- strptime(DatTim, "%d/%m/%Y %H:%M:%S");
data <- cbind(DT, data);
for (i in 4:9) data[, i] <- as.numeric(as.character(data[, i]));
subdata <- subset(data, DT >= "2007-02-01 00:00:00" & DT <= "2007-02-02 23:59:59");
png("plot4.png")
par(mfrow = c(2,2))
plot(subdata$DT, subdata$Global_active_power, type = "n", xlab = "", ylab = "Global Active Power (kilowatts)");
lines(subdata$DT, subdata$Global_active_power);
plot(subdata$DT, subdata$Voltage, type = "n", xlab = "datetime", ylab = "Voltage");
lines(subdata$DT, subdata$Voltage);
plot(subdata$DT, subdata$Sub_metering_1, type = "n", xlab = "", ylab = "Energy sub metering", ylim = c(0, 40));
lines(subdata$DT, subdata$Sub_metering_1);
lines(subdata$DT, subdata$Sub_metering_2, col = "red");
lines(subdata$DT, subdata$Sub_metering_3, col = "blue");
legend("topright", c("Sub_metering_1", "Sub_metering_2", "Sub_metering_3"), lty = c(1, 1, 1), col = c("black", "red", "blue"), bty = "n");
plot(subdata$DT, subdata$Global_reactive_power, type = "n", xlab = "datetime", ylab = "Global_reactive_power");
lines(subdata$DT, subdata$Global_reactive_power);
dev.off();
setwd("C:/Users/user/RepData_PeerAssessment1")
Markdown File for Peer Assessment Assignment
Markdown File for Peer Assessment Assignment
------------------
First, we load the data into R after downloading and extracting the CSV data file into our working directory from the respective [link provided on the assignment page][1]. The name of the file by default is set as "activity.csv". Once we assign the data into a variable, we convert the column representing the date into the 'date' format, as it is initially imported as 'factor'.
```{r}
data <- read.csv("activity.csv", header = TRUE)
data$date <- as.Date(data$date)
```
Next we subset the data to exclude the NA values and proceed to generate the required histogram. To do this we create a data frame containing the total steps taken on each day, after selecting only the first two columns of the data excluding NA values.
```{r}
subdata <- subset(data, steps != "NA")
p1 <- as.data.frame(as.matrix(tapply(subdata$steps, as.factor(subdata$date), sum)))
library(ggplot2)
ggplot(p1, aes(V1)) + geom_histogram() + xlab("Steps")
mean1 <- mean(p1$V1)
median1 <- median(p1$V1)
```
The mean of the total number of steps taken each day is **`r mean1`** and the median is **`r median1`**.
Next we average the number of steps taken in each 5 minute interval across all days and plot the same.
```{r}
p2 <- data.frame(unique(subdata$interval), tapply(subdata$steps, as.factor(subdata$interval), mean))
colnames(p2) <- c("interval", "meanSteps")
plot(p2$interval, p2$meanSteps, xlab = "Intervals", ylab = "Average Steps", type = "l")
m <- as.integer(p2[which.max(p2$meanSteps), "interval"])
max1 <- sprintf("%04d", m)
max2 <- sprintf("%04d", m+4)
```
The interval with the maximum value of average number of steps is **`r max1` Hrs to `r max2` Hrs.**
Next we replace the NA values in the 'steps' column of our original dataset with the mean number steps corresponding to its interval as the values are already calculated and existing in a data frame.
```{r}
for(i in 1:nrow(data)) {
if (is.na(data$steps[i]) == TRUE) data$steps[i] <- p2$meanSteps[which(p2$interval == data$interval[i])]
}
p3 <- as.data.frame(as.matrix(tapply(data$steps, as.factor(data$date), sum)))
library(ggplot2)
ggplot(p3, aes(V1)) + geom_histogram() + xlab("Steps")
mean2 <- mean(p3$V1)
median2 <- median(p3$V1)
```
The modified mean of the total number of steps taken each day is **`r mean2`** and the modified median is **`r median2`**. We see that the value of the mean remains the same from when NA values where omitted from our calculations, but the median value increases slightly to coincide with the mean.
Also, the total daily number of steps will increase as replacement of NA values brings in new values into the calculation of the sum, thereby increasing the value of the number of steps taken each day.
We now proceed to identify if each of the date specified in data falls on a weekday or a weekend, and represent this day type by the variable 'day'. We the average the number of steps taken in each 5 minute interval across these day types and plot the same.
```{r}
data$day <- weekdays(data$date)
for(i in 1:nrow(data)) {
if (data$day[i] == "Saturday") data$day[i] <- "weekend"
else if (data$day[i] == "Sunday") data$day[i] <- "weekend"
else data$day[i] <- "weekday"
}
data$day <- as.factor(data$day)
sd1 <- split(data, data$day)[[1]]
sd2 <- split(data, data$day)[[2]]
p4_1 <- data.frame(unique(sd1$interval), tapply(sd1$steps, as.factor(sd1$interval), mean), c(rep("weekday", length(unique(sd1$interval)))))
colnames(p4_1) <- c("interval", "meanSteps", "day")
p4_2 <- data.frame(unique(sd2$interval), tapply(sd2$steps, as.factor(sd2$interval), mean), c(rep("weekend", length(unique(sd2$interval)))))
colnames(p4_2) <- c("interval", "meanSteps", "day")
p4_1$interval <- as.factor(p4_1$interval)
p4_2$interval <- as.factor(p4_2$interval)
par(mfrow = c(2, 1), mar = c(4, 4, 2, 1))
plot(p4_1$interval, p4_1$meanSteps, main = "Weekday", xlab = "Interval", ylab = "Number of steps", type = "n", asp = 0.5)
lines(p4_1$interval, p4_1$meanSteps)
plot(p4_2$interval, p4_2$meanSteps, main = "Weekend", xlab = "Interval", ylab = "Number of steps", type = "n", asp = 0.5)
lines(p4_2$interval, p4_2$meanSteps)
```
[1]: https://d396qusza40orc.cloudfront.net/repdata%2Fdata%2Factivity.zip "link provided on the assignment page"
Markdown File for Peer Assessment Assignment
knitr
knit(PA1_template.Rmd)
library(kritr'')
library(knitr)
knit("PA1_template.md")
